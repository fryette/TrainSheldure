<micro:CaliburnApplication
    x:Class="TrainShedule_HubVersion.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:micro="using:Caliburn.Micro">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.ThemeDictionaries>
                <ResourceDictionary x:Key="Default">
                    <ImageBrush x:Key="HubBackgroundImageBrush" ImageSource="Assets/HubBackground.png"/>
                </ResourceDictionary>
                <ResourceDictionary x:Key="HighContrast">
                    <ImageBrush x:Key="HubBackgroundImageBrush" ImageSource="{x:Null}"/>
                </ResourceDictionary>
            </ResourceDictionary.ThemeDictionaries>
            <DataTemplate x:Key="HubSectionHeaderTemplate">
                <TextBlock Margin="0,0,0,-9.5" Text="{Binding}"/>
            </DataTemplate>
            <DataTemplate x:Key="Standard200X180TileItemTemplate">
                <Grid Margin="0,0,9.5,9.5" Background="{ThemeResource ListViewItemPlaceholderBackgroundThemeBrush}" HorizontalAlignment="Stretch">
                    <Image Source="{Binding ImagePath}" Stretch="UniformToFill" AutomationProperties.Name="{Binding Title}" Height="138.5" Width="138.5"/>
                    <TextBlock Text="{Binding Title}" VerticalAlignment="Bottom" Margin="9.5,0,0,6.5" Style="{ThemeResource BaseTextBlockStyle}" Visibility="Collapsed"/>
                </Grid>
            </DataTemplate>
            <Thickness x:Key="PhoneBorderThickness">2.5</Thickness>
            <FontFamily x:Key="PhoneFontFamilyNormal">Segoe WP</FontFamily>
            <FontWeight x:Key="PhoneButtonFontWeight">Semibold</FontWeight>
            <x:Double x:Key="TextStyleLargeFontSize">18.14</x:Double>
            <Thickness x:Key="PhoneButtonContentPadding">9.5,0,9.5,3.5</Thickness>
            <x:Double x:Key="PhoneButtonMinHeight">0</x:Double>
            <x:Double x:Key="PhoneButtonMinWidth">0</x:Double>
            <Thickness x:Key="PhoneTouchTargetOverhang">0,0</Thickness>
            <SolidColorBrush x:Key="ButtonDisabledBackgroundThemeBrush" Color="Transparent"/>
            <Style x:Key="RoundByttonStyle" TargetType="Button">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="Width" Value="40"/>
                <Setter Property="Height" Value="40"/>
                <Setter Property="BorderBrush" Value="{ThemeResource PhoneForegroundBrush}"/>
                <Setter Property="Foreground" Value="{ThemeResource PhoneForegroundBrush}"/>
                <Setter Property="BorderThickness" Value="{ThemeResource PhoneBorderThickness}"/>
                <Setter Property="FontFamily" Value="{ThemeResource PhoneFontFamilyNormal}"/>
                <Setter Property="FontWeight" Value="{ThemeResource PhoneButtonFontWeight}"/>
                <Setter Property="FontSize" Value="{ThemeResource TextStyleLargeFontSize}"/>
                <Setter Property="Padding" Value="{ThemeResource PhoneButtonContentPadding}"/>
                <Setter Property="MinHeight" Value="{ThemeResource PhoneButtonMinHeight}"/>
                <Setter Property="MinWidth" Value="{ThemeResource PhoneButtonMinWidth}"/>
                <Setter Property="HorizontalAlignment" Value="Left"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="micro:Message.Attach" Value="[Event Click] = [Action Swap]"/>
                <Setter Property="HorizontalAlignment" Value="Right"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid x:Name="Grid" Background="Transparent">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CommonStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition From="Pressed" To="PointerOver">
                                                <Storyboard>
                                                    <PointerUpThemeAnimation Storyboard.TargetName="Grid"/>
                                                </Storyboard>
                                            </VisualTransition>
                                            <VisualTransition From="PointerOver" To="Normal">
                                                <Storyboard>
                                                    <PointerUpThemeAnimation Storyboard.TargetName="Grid"/>
                                                </Storyboard>
                                            </VisualTransition>
                                            <VisualTransition From="Pressed" To="Normal">
                                                <Storyboard>
                                                    <PointerUpThemeAnimation Storyboard.TargetName="Grid"/>
                                                </Storyboard>
                                            </VisualTransition>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Normal"/>
                                        <VisualState x:Name="PointerOver"/>
                                        <VisualState x:Name="Pressed">
                                            <Storyboard>
                                                <PointerDownThemeAnimation Storyboard.TargetName="Grid"/>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ButtonPressedForegroundThemeBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Border">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ButtonPressedBackgroundThemeBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Disabled">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ButtonDisabledForegroundThemeBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Border">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ButtonDisabledBorderThemeBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Border">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ButtonDisabledBackgroundThemeBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <Border x:Name="Border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Margin="{ThemeResource PhoneTouchTargetOverhang}" CornerRadius="72">
                                    <ContentPresenter x:Name="ContentPresenter" AutomationProperties.AccessibilityView="Raw" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" Foreground="{TemplateBinding Foreground}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                </Border>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="StopPointTextBlockStyle" TargetType="TextBlock">
                <Setter Property="HorizontalAlignment" Value="Right"/>
                <Setter Property="FontSize" Value="14"/>
            </Style>
            <Style x:Key="SelectButtonStyle" TargetType="Button">
                <Setter Property="Height" Value="155"/>
                <Setter Property="Width" Value="155"/>
                <Setter Property="Margin" Value="10,0,50,0"/>
            </Style>
            <Style x:Key="ScheduleTextBlockStyle" TargetType="TextBlock">
                <Setter Property="HorizontalAlignment" Value="Right"/>
                <Setter Property="FontSize" Value="16"/>
                <Setter Property="Foreground" Value="DarkRed"/>
                <Setter Property="FontWeight" Value="Bold"/>
                <Setter Property="MaxWidth" Value="400"/>
            </Style>
            <Style x:Key="AutoSuggestBoxStyle" TargetType="AutoSuggestBox">
                <Setter Property="Width" Value="300"/>
                <Setter Property="IsSuggestionListOpen" Value="True"/>
            </Style>
            <Style x:Key="DatePickerStyle" TargetType="DatePicker">
                <Setter Property="MonthFormat" Value="{}{month.abbreviated}"/>
                <Setter Property="YearFormat" Value="{}{year.abbreviated}"/>
                <Setter Property="DayFormat" Value="{}{day.integer} {dayofweek.abbreviated}"/>
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="Width" Value="300"/>
            </Style>
            <DataTemplate x:Key="ScheduleTemplate">
                <StackPanel Orientation="Horizontal" Background="#FF969696" Margin="0,5,0,0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" MaxWidth="600" MinWidth="600">
                    <StackPanel Orientation="Vertical">
                        <Image Source="{Binding ImagePath}" Height="99" Width="50"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Margin="5,0,0,0" FontSize="14" Text="{Binding City}" Style="{StaticResource ScheduleTextBlockStyle}" Foreground="WhiteSmoke"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <StackPanel Orientation="Vertical" Width="Auto" MaxWidth="400" HorizontalAlignment="Right" MinWidth="200">
                                <TextBlock Text="{Binding BeforeDepartureTime}" Style="{StaticResource ScheduleTextBlockStyle}"/>
                                <TextBlock Text="{Binding OnTheWay}" Style="{StaticResource ScheduleTextBlockStyle}"/>
                                <TextBlock x:Uid="AddInformation" Foreground="WhiteSmoke" Style="{StaticResource ScheduleTextBlockStyle}"/>
                            </StackPanel>
                            <StackPanel Orientation="Vertical" HorizontalAlignment="Right" MinWidth="120">
                                <TextBlock Text="{Binding StartTime}" Style="{StaticResource ScheduleTextBlockStyle}" Foreground="White"  FontSize="32"/>
                                <TextBlock Text="{Binding EndTime}" Style="{StaticResource ScheduleTextBlockStyle}" FontSize="24" Margin="0,-5,0,0" Foreground="DimGray"/>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </DataTemplate>
            <DataTemplate x:Key="LastScheduleTemplate">
                <ListView 
                        IsItemClickEnabled="True"
                        ItemsSource="{Binding Trains}"
                        micro:Message.Attach="[Event ItemClick] = [Action ClickItem($clickeditem)]">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Background="#FF969696" Margin="0,5,0,0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" MinWidth="600">
                                <StackPanel Orientation="Vertical">
                                    <Image Source="{Binding ImagePath}" Height="99" Width="50"/>
                                </StackPanel>
                                <StackPanel Orientation="Vertical">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Margin="5,0,0,0" FontSize="12" Text="{Binding City}" Foreground="WhiteSmoke"  FontWeight="Bold" MaxWidth="400" HorizontalAlignment="Right"/>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <StackPanel Orientation="Vertical" MaxWidth="400" HorizontalAlignment="Left" MinWidth="100" Margin="5,0,0,0">
                                            <TextBlock FontSize="16" Text="{Binding BeforeDepartureTime}" Foreground="DarkRed"  FontWeight="Bold"/>
                                            <TextBlock x:Uid="AddInformation" FontSize="16" Foreground="WhiteSmoke"  FontWeight="Bold"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Vertical" HorizontalAlignment="Right" MinWidth="100">
                                            <TextBlock Foreground="White" Text="{Binding StartTime}" FontSize="32" FontWeight="Bold" HorizontalAlignment="Right"/>
                                            <TextBlock FontSize="24" Text="{Binding EndTime}" Foreground="DimGray"  FontWeight="Bold" HorizontalAlignment="Right" Margin="0,-5,0,0"/>
                                        </StackPanel>
                                    </StackPanel>
                                </StackPanel>
                            </StackPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </DataTemplate>
            <DataTemplate x:Key="MainPageTemplate">
                <GridView
                        Margin="0,9.5,0,0"
                        ItemsSource="{Binding Menu}"
                        ItemTemplate="{StaticResource Standard200X180TileItemTemplate}"
                        IsItemClickEnabled="True"
                        micro:Message.Attach="[Event ItemClick] = [Action GoToSearch($clickeditem)]">
                    <GridView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ItemsWrapGrid />
                        </ItemsPanelTemplate>
                    </GridView.ItemsPanel>
                </GridView>
            </DataTemplate>
            <DataTemplate x:Key="InformationTemplate">
                <StackPanel Orientation="Horizontal" Background="#FFFF8000" Margin="0,5,0,0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" MinWidth="600">
                    <StackPanel Orientation="Vertical" Margin="5,5,0,0">
                        <TextBlock Text="{Binding Name}" VerticalAlignment="Bottom" HorizontalAlignment="Left" MinWidth="200" FontSize="18"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" MinWidth="100">
                        <TextBlock Text="{Binding Place}" HorizontalAlignment="Right" FontSize="18"/>
                        <TextBlock Text="{Binding Price}" HorizontalAlignment="Right" FontSize="18"/>
                    </StackPanel>
                </StackPanel>
            </DataTemplate>
            <DataTemplate x:Key="StoPointTemplate">
                <StackPanel Orientation="Horizontal" Background="#FFFF3A00" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" MinWidth="600" Margin="0,2,0,0">
                    <StackPanel Orientation="Vertical" MinWidth="220" MaxWidth="220" Margin="5,0,0,0">
                        <TextBlock Text="{Binding Name}" VerticalAlignment="Bottom" HorizontalAlignment="Left" MaxWidth="300" FontSize="14" FontWeight="Bold"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" MinWidth="150">
                        <TextBlock Text="{Binding Arrivals}" Style="{StaticResource StopPointTextBlockStyle}"/>
                        <TextBlock Text="{Binding Stay}" Style="{StaticResource StopPointTextBlockStyle}"/>
                        <TextBlock Text="{Binding Departures}" Style="{StaticResource StopPointTextBlockStyle}"/>
                    </StackPanel>
                </StackPanel>
            </DataTemplate>
        </ResourceDictionary>
    </Application.Resources>
</micro:CaliburnApplication>
